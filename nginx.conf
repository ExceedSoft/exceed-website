server {
    listen 80;
    # Keep the root here so it can find styles.css and scripts in the main folder
    root /usr/share/nginx/html/browser;
    
    index index.html;

    # 1. Redirect the exact root URL (http://site.com/) to English (http://site.com/en/)
    location = / {
        return 301 /en/;
    }

    # 2. Handle the English Application
    location /en/ {
        try_files $uri $uri/ /en/index.html;
    }

    # 3. Handle the Arabic Application (Optional, if you use it)
    location /ar/ {
        try_files $uri $uri/ /ar/index.html;
    }

    # 4. Fallback for any other files (images, styles.css, scripts.js)
    location / {
        try_files $uri $uri/ /en/index.html;
    }
}