global:
  resolve_timeout: 5m

route:
  receiver: 'slack-notifications'

receivers:
- name: 'slack-notifications'
  slack_configs:
  # We will replace this text automatically during deployment
  - api_url: 'REPLACE_WITH_ACTUAL_WEBHOOK_URL' 
    channel: '#deployments'
    send_resolved: true
    title: '{{ if eq .Status "firing" }}ðŸ”¥ Website is DOWN{{ else }}âœ… Website is UP{{ end }}'
    text: >-
      {{ range .Alerts }}
        {{ if eq .Status "firing" }}
          *Status:* ðŸ”´ Critical
          *Problem:* {{ .Annotations.description }}
          *Action:* Check the server logs or 'probe_http_status_code'.
        {{ else }}
          *Status:* ðŸŸ¢ Recovered
          *Message:* The website is back online and responding correctly. ðŸš€
          *Duration:* The downtime lasted for {{ .EndsAt.Sub .StartsAt }}
        {{ end }}
      {{ end }}